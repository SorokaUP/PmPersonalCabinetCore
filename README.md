# Личный кабинет для запроса информации о статусах КИЗ в системе МДЛП (ядро)

Работает в связке с проектом [PmPersonalCabinet](https://github.com/SorokaUP/PmPersonalCabinet)

---

Проект обрабатывает запросы к **RestApi МДЛП** (*система Честный знак, реализован метод запроса статусов КИЗ*), полученные данные в формате *JSON* передает внешним програмным решениям. 

Отправка данных осуществляется посредством подписи отправляемого запроса с помощью **УКЭП** через собственную библиотеку Windows на C# (*CryptApi.dll*), 
которая по отпечатку публичного ключа получает из локального хранилища сертификат и производит подпись отправляемого сообщения.
Хранение данных пользователя (*идентификаторы учетной системы, идентификаторы пользователей, данные отпечатка публичного сертификата и прочая системная информация о сессии*).

Выбор пользователя и данных сертификата осуществляется через файл конфигурации **config.py**, где достаточно указать **user_id** (*UUID пользователя в системе МДЛП*), и обьъявить структуру **user_info** (*экземпляр класса model.UserInfo*).

---

# Пример вызова

    data = api_search_kiz(["046071598604081W3ER00000000", "046071598604081W3ERPCKD3T0C", "0460715986040828SVYAM5YX3NY", "046400186411386528734054135", "046400186411383914344477297", "0475023200591002062UMF5L03R", "0475023200591002062UMG5NS2F", "042503695090651121352426121", "042503695090651121352436169", "0475023200591002060ANP4C2CC", "0475023200591002060ANR83ZTP", '059447282610915485', '589017830000023675', '146501092334774466', '146501092383403058'])
    print(data)

---

В проекте использованы:
* Получение информации из базы данных **PostgreSQL**;
* Внешняя библиотека Windows собственной разработки для работы с **УКЭП** (*CryptApi.dll*) из локального хранилища Windows.
